<!DOCTYPE html>
<html lang="en">

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>


  <!-- Head -->
  <head>        
    <!-- Metadata, OpenGraph and Schema.org -->
    

    <!-- Standard metadata -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Mercury Robotics | Printed Circuit Boards</title>
    <meta name="author" content="  " />
    <meta name="description" content="Introduction to the design and layout of Printed Circuit Boards (PCBs)." />
    <meta name="keywords" content="engineering, mercury, robotics, robots, extracurricular, design, ROS, club, okstate, osu, oklahoma, state, university" />

    
    <!-- Bootstrap & MDB -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css"  integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

    <!-- Styles -->
    <!-- <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>/assets/img/merc_bot_light.svg</text></svg>"> -->
    <link rel="icon" href="/assets/img/merc_guy.png">

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="https://mercuryrobots.com/resources/elec_pcb/">

    <!-- Dark Mode -->
    <script src="/assets/js/theme.js"></script>
    <script src="/assets/js/dark_mode.js"></script>
  </head>

  <!-- Body -->
  <body class="fixed-top-navsticky-bottom-footer">

    <!-- Header -->
    <header>

      <!-- Nav Bar -->
      <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
        <div class="container">
          <a class="navbar-brand title font-weight-lighter" href="https://mercuryrobots.com/">Mercury Robotics</a>
          <!-- Navbar Toggle -->
          <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

          <div class="collapse navbar-collapse text-right" id="navbarNav">
            <ul class="navbar-nav ml-auto flex-nowrap">

              <!-- Other pages -->
              <li class="nav-item ">
                
                  <a class="nav-link" href="/projects/">Projects</a>
                
              </li>
              <li class="nav-item ">
                
                  <a class="nav-link" href="https://github.com/osu-mercury-robotics/osu-mercury-robotics.github.io/wiki" target="_blank" rel="noopener noreferrer">Robot Wiki</a>
                
              </li>
              <li class="nav-item ">
                
                  <a class="nav-link" href="/officers/">Officers</a>
                
              </li>
              <li class="nav-item ">
                
                  <a class="nav-link" href="/formsdocs/">Forms</a>
                
              </li>
              <li class="nav-item ">
                
                  <a class="nav-link" href="/contact/">Contact Us</a>
                
              </li>

              <!-- Toogle theme mode -->
              <div class="toggle-container">
                <a id="light-toggle">
                  <i class="fas fa-moon"></i>
                  <i class="fas fa-sun"></i>
                </a>
              </div>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Content -->
    <div class="container mt-5">
      <!-- page.html -->
        <div class="post">

          <header class="post-header">
            <h1 class="post-title">Printed Circuit Boards</h1>
            <p class="post-description">Introduction to the design and layout of Printed Circuit Boards (PCBs).</p>
            
          </header>

          <article class="post">
            <div class="row mt-3 mb-3">
    <img src="/assets/img/resources/elec_pcb/Battery_Monitor_PCB.PNG" class="m-auto img-fluid rounded z-depth-1" alt="Battery Monitoring PCB" title="Battery Monitoring PCB">
</div>

<h2 id="introduction">Introduction</h2>
<p>A printed circuit board (PCB) is a hardware solution for implementing electrical circuit designs. They are robust, compact, and aesthetic compared to a breadboard or a spaghetti wire solution. It’s easier than ever to design a PCB with plenty of online resources and software. If we can do it, you can too. Additionally, you can simply order a PCB from a vendor like JLCPCB and receive your PCB fully assembled in a week.</p>

<h2 id="implementation-process">Implementation Process</h2>
<h3 id="design">Design</h3>
<p>The first step is arguably the hardest. You’ll need a design. This involves a solid understanding of the circuit and its components. Do your research and understand what every component’s purpose is. Sketch out your circuit and how it connects.</p>

<h3 id="schematic-and-component-selection">Schematic and Component Selection</h3>
<p>Now you can move your design to software. We have had success with KiCad and EasyEDA. We recommend EasyEDA if you plan on ordering your PCB from JLCPCB and want to use their surface mount services (explained more below). EasyEDA and KiCad are free and have plenty of tutorials.</p>

<ul>
  <li><a href="https://easyeda.com/" target="_blank" rel="noopener noreferrer">EasyEDA Browser</a></li>
  <li><a href="https://www.kicad.org/download/" target="_blank" rel="noopener noreferrer">KiCad Download</a></li>
  <li><a href="https://www.youtube.com/watch?v=_x2fzKEjUGQ" target="_blank" rel="noopener noreferrer">EasyEDA Tutorial</a></li>
  <li><a href="https://youtu.be/c2niS9ZRBHo" target="_blank" rel="noopener noreferrer">KiCad Tutorial</a></li>
</ul>

<p>We recommend you go through the whole PCB design process with this playlist. Follow along and create the PCB with them.</p>

<div class="row mt-3 mb-3">
    <img src="/assets/img/resources/elec_pcb/5V_Controller_Schematic.PNG" class="m-auto img-fluid rounded z-depth-1" alt="Schematic of 5V Controller" title="Schematic of 5V Controller">
</div>

<h3 id="simulation">Simulation</h3>
<p>Simulation is essential and highly recommended. You will certainly find flaws in your design. Simulations won’t guarantee your PCB will work.</p>

<p>Unfortantantly, KiCad and EasyEDA’s simulation tools are limited. We have had success with simulations in Capture PSpice and Multisim. PSpice and Multisim are free for OKSTATE students at the <a href="https://it.okstate.edu/services/software-distribution/index.html" target="_blank" rel="noopener noreferrer">software distribution website</a>. A free alternative is <a href="https://www.analog.com/en/design-center/design-tools-and-calculators/ltspice-simulator.html" target="_blank" rel="noopener noreferrer">LTSpice</a>. It has most of the same functions as PSpice, but is lighter weight. It does not integrate directly with PCB design tools.</p>

<p>If you happen to be designing a DC/DC or AC/DC converter PCB, check out Texas Instrument’s <a href="https://webench.ti.com/power-designer/" target="_blank" rel="noopener noreferrer">WEBENCH</a>. It will help you select components and provides simulation tools.</p>

<h3 id="pcb-components-traces-and-stackup">PCB Components, Traces, and Stackup</h3>
<p>Again, we recommend you follow a tutorial playlist. It is extremely helpful to go through the entire PCB creation process. It will make you a better designer.</p>

<p>Unless your circuit is incredibly simple, you should use a four-layer PCB. They don’t cost much more, they create more ways to connect components, and you can use power/ground planes.</p>

<p>Make sure your PCB manufacturer can create your PCB. Traces can’t be too close, traces can’t be too thin, etc. You can view <a href="https://jlcpcb.com/capabilities/Capabilities" target="_blank" rel="noopener noreferrer">JLCPCB’s rules</a>. You can update your PCB software’s design rules so it will tell you when you are violating a rule.</p>

<h4 id="advice">Advice</h4>
<ul>
  <li>Don’t worry about how things look at first. Just move components around to their general location.</li>
  <li>Connect all the components with traces to see how everything connects but don’t worry about how the traces look yet.</li>
  <li>Use your layers. You can route traces to other layers with vias.</li>
  <li>Keep traces short, especially traces with high current. Traces have non-zero resistance. Also, longer traces can couple with more electromagnetic noise.</li>
  <li>Keep sensitive components and traces away from noisy components. Keep sensitive analog traces short.</li>
  <li>Use a grounding plane. They make it easy to connect all your grounds and they help to reduce EMI.</li>
  <li>Leave some space for vias and traces. Give your components some breathing room.</li>
</ul>

<h3 id="pcb-layers">PCB Layers</h3>
<p>PCBs are constructed of several layers of fiberglass (or alternative) and copper sandwiched together. These are some of the most commonly referenced layers:</p>

<ul>
  <li>Top Copper - copper traces and planes on the top side of the board.</li>
  <li>Bottom copper - same as top copper, but for the bottomside of the board.</li>
  <li>Inner copper - interior layers of traces or pours. Cannot include components, but useful for better routing.</li>
  <li>Silkscreen - Text or drawings placed above copper. Usually parts references e.g. C9, R4, U1. Useful if hand soldering, debugging, or additional information is necessary for usage.</li>
  <li>Solder mask - covers traces and vias to avoid accidental short circuiting. Does not cover pads where outside connections need to be made.</li>
</ul>

<h3 id="pcb-finalization">PCB Finalization</h3>
<ul>
  <li>Reroute your traces and make them look good, but also consider crosstalk, EMI, and trace resistance.</li>
  <li>You can also change the width of the traces but be aware of <a href="https://www.nwengineeringllc.com/article/impedance-matching-for-high-speed-signals-in-pcb-design.php" target="_blank" rel="noopener noreferrer">trace impedance matching</a> for high-frequency signal lines.</li>
  <li>To find what the width of your traces should be you can use a <a href="https://www.4pcb.com/trace-width-calculator.html" target="_blank" rel="noopener noreferrer">trace width calculator</a>. Wider traces have less resistance and can support more current for less power loss. High-frequency signals have different requirements for trace width.</li>
  <li>Move component silkscreen labels to where it’s obvious which component is referred to.</li>
</ul>

<div class="row mt-3 mb-3">
    <img src="/assets/img/resources/elec_pcb/3D_Model_5V_Controller.PNG" class="m-auto img-fluid rounded z-depth-1" alt="3D Model of 5V Controller" title="3D Model of 5V Controller">
</div>

<h3 id="user-experience">User Experience</h3>
<p>It’s important to spend some time imagining how people will interact with your board.</p>
<h4 id="ask-yourself">Ask Yourself</h4>
<ul>
  <li>Will they want to mount the board with screw holes? Make sure those screws don’t short anything.</li>
  <li>Will they want a status LED just to know that it’s on?</li>
  <li>Are the component labels obvious?</li>
  <li>Do you need reverse voltage protection?</li>
  <li>How can things go wrong when the user is connecting to your PCB? Are there labels that make the required connections clear?</li>
  <li>How will the user/designer debug the device? Do you need test points?</li>
</ul>

<h2 id="how-jlcpcb-and-easyeda-work">How JLCPCB and EasyEDA Work</h2>
<p>EasyEDA connects to JLCPCB services, so you can see what parts are available from JLCPCB. Additionally, it has the component’s datasheet embedded.</p>

<p>JLCPCB provides two important services: PCB manufacturing and component assembly.</p>

<h3 id="pcb-manufacturing">PCB Manufacturing</h3>
<p>JLCPCB can manufacture your PCB. They will make a minimum of 5 boards. You can just order these boards and solder all your components yourself. This is easy with through-hole components, and hard (but doable) with surface mount components. Of course, the smaller the component, the harder it is to solder. The more components you have, the more opportunities for error. You can also use JLCPCB’s component assembly service.</p>

<h3 id="component-assembly">Component Assembly</h3>
<p>Many components are available for assembly. You can check if they have it here. If the part is a “basic part”, there is no additional charge for assembly. If the part is an “extended part” you’ll pay an additional $3 fee. Now, if you are using multiple of the same extended part, they only charge you for one fee.</p>

<p>If the part is a through-hole type or is a special size it will require hand soldering which has a different fee. You can choose to omit assembly of these components.</p>

<p>JLCPCB will assembly a minimum of 2 PCBs. The shipping cost can be expected to be around $20. You can see all of <a href="https://support.jlcpcb.com/article/62-what-cases-will-be-charged-of-extra-cost" target="_blank" rel="noopener noreferrer">JLCPCB’s fees</a>.</p>

<h2 id="where-things-can-go-wrong">Where Things Can Go Wrong</h2>

<h3 id="heat-generation">Heat Generation</h3>
<p>Heat will be generated by every component. It is worth a quick check to make sure your component won’t overheat. This <a href="https://youtu.be/08nRFuh6nxA" target="_blank" rel="noopener noreferrer">PCB heat management</a> tutorial can be used to help estimate expected temperature rise and maximum allowable power dissipation.</p>

<p>There are a few methods to help decrease thermal resistance.</p>
<ul>
  <li>Copper Pours
    <ul>
      <li>You can place a large copper area directly under your component to give more area for the heat to spread.</li>
    </ul>
  </li>
  <li>Heat Sinks
    <ul>
      <li>Some ICs have a heat sink you can add to remove more heat.</li>
      <li>You can also mount heat sinks to the PCB itself.</li>
      <li>There are even heat sinks for surface mount components.</li>
    </ul>
  </li>
  <li>Thermal Redirection
    <ul>
      <li>You can use vias to channel heat to the other side of the PCB.</li>
      <li>The other side would then have another large copper area.</li>
      <li>Again, this creates more surface area for the heat to be removed.</li>
    </ul>
  </li>
  <li>Forced Convection
    <ul>
      <li>Consider the operating environment. PCBs can be cooled with exterior fans if necessary.</li>
    </ul>
  </li>
</ul>

<h3 id="high-frequency">High Frequency</h3>
<p>An oversimplification of electromagnetic fields and waves: electrical charges produce electric fields and current produces magnetic fields. Changes in magnetic fields induce electric fields and changes in electric fields induce magnetic fields. High-frequency signals have sharp changes that couple (interfere) with nearby conductors. This coupling creates induced voltages and currents which can interfere with PCB performance.</p>

<p>High frequency circuits are complicated but here are some resources.</p>
<ul>
  <li>Electromagnetism courses (ECEN3613 and ECEN3623 at OSU)</li>
  <li><a href="https://deltauniv.edu.eg/new/engineering/wp-content/uploads/chap.3.pdf" target="_blank" rel="noopener noreferrer">Transmission Theory</a></li>
  <li><a href="https://youtu.be/bVdwu1IoX4k" target="_blank" rel="noopener noreferrer">High Frequcy PCBs</a></li>
  <li><a href="https://cart.jlcpcb.com/impedanceCalculation" target="_blank" rel="noopener noreferrer">JLCPCB Impedance Calculator</a></li>
</ul>

<h3 id="non-ideal-components">Non-Ideal Components</h3>
<p>Below are a few components and some of their nonidealities.</p>

<h4 id="capacitor">Capacitor</h4>

<ul>
  <li><a href="https://www.electronics-notes.com/articles/electronic_components/capacitors/specifications-parameters.php" target="_blank" rel="noopener noreferrer">Capacitor Properties</a></li>
  <li>
<a href="https://www.murata.com/en-us/products/capacitor/polymer/library/basic/comparison" target="_blank" rel="noopener noreferrer">Capacitor Type</a> Matters!
    <ul>
      <li>Datasheets will sometimes recommend what type of capacitor to use.</li>
    </ul>
  </li>
  <li>Leakage Current
    <ul>
      <li>Capacitors can lose charge over time.</li>
    </ul>
  </li>
  <li>Capacitance Isn’t Constant
    <ul>
      <li>Capacitance can change with temperature, applied voltage, and age.</li>
    </ul>
  </li>
  <li>ESR
    <ul>
      <li>Equivalent series resistance</li>
      <li>Frequency-dependent</li>
    </ul>
  </li>
  <li>Self-Resonating Frequency
    <ul>
      <li>You want the operating frequency to be much less than the self-resonating frequency.</li>
      <li>Datasheets will state the operating frequency range.</li>
    </ul>
  </li>
</ul>

<h4 id="inductor">Inductor</h4>

<ul>
  <li><a href="https://components101.com/articles/how-to-check-for-saturation-current-core-loss-and-other-parameters-for-selecting-an-inductor" target="_blank" rel="noopener noreferrer">Inductor Properties</a></li>
  <li>DCR
    <ul>
      <li>Direct-Current Resistance</li>
    </ul>
  </li>
  <li>Inductance isn’t constant
    <ul>
      <li>Inductance can change over temperature, applied current, and age.</li>
      <li>Once the inductor reaches a saturation current, the inductance decreases.</li>
    </ul>
  </li>
  <li>Self-Resonating Frequency
    <ul>
      <li>You want the operating frequency to be much less than the self-resonating frequency.</li>
      <li>Datasheets will state the operating frequency range.</li>
    </ul>
  </li>
</ul>

<h2 id="terminology">Terminology</h2>
<ul>
  <li>Copper Weight - expresses the thickness of the PCB</li>
  <li>EMI - electromagnetic interference</li>
  <li>FR-4 - most common PCB material arrangement</li>
  <li>Gerber File - PCB file type</li>
  <li>Ground Plane - large copper area used as a ground reference using vias</li>
  <li>Mil - a thousandths of an inch</li>
  <li>SMT - surface mount technology</li>
  <li>Via - electrical connection between layers</li>
</ul>

<h4 id="more-terminology"><a href="https://www.pcbcart.com/article/content/glossary-of-terms.html" target="_blank" rel="noopener noreferrer">More terminology</a></h4>

          </article>

        </div>

    </div>

    <!-- Footer -->    <footer class="sticky-bottom mt-5">
      <div class="container">
        © Copyright 2022   . 
      </div>
    </footer>
  </body>

  <!-- Bootsrap & MDB scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.1/dist/css/bootstrap-select.min.css">

  <!-- Latest compiled and minified JavaScript -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.1/dist/js/bootstrap-select.min.js"></script>
  <!-- Mansory & imagesLoaded -->
  <script defer src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
  <script defer src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script defer src="/assets/js/mansory.js" type="text/javascript"></script>
  
  <!-- Medium Zoom JS -->
  <script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script>
  <script src="/assets/js/zoom.js"></script><!-- Load Common JS -->
  <script src="/assets/js/common.js"></script>

  <!-- MathJax -->
  <script type="text/javascript">
    window.MathJax = {
      tex: {
        tags: 'ams'
      }
    };
  </script>
  <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script>
  <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>

  
</html>

